{"ast":null,"code":"var _jsxFileName = \"D:\\\\Airticket\\\\frontend\\\\src\\\\pages\\\\Tickets.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './Tickets.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Tickets = ({\n  user\n}) => {\n  _s();\n  const [tickets, setTickets] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [cancelling, setCancelling] = useState(null);\n  const navigate = useNavigate();\n\n  // Lấy danh sách vé đã đặt\n  useEffect(() => {\n    if (user) {\n      fetchTickets();\n    }\n  }, [user]);\n  const fetchTickets = async () => {\n    try {\n      const token = localStorage.getItem('accessToken');\n      console.log('Token:', token); // Debug token\n\n      // Lấy thông tin user từ token để đảm bảo lấy đúng vé\n      const userResponse = await fetch('http://localhost:8080/api/v1/auth/get-profile', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!userResponse.ok) {\n        console.error('Không thể lấy thông tin user');\n        setTickets([]);\n        return;\n      }\n      const userData = await userResponse.json();\n      const currentUserId = userData.data._id;\n      console.log('Current user ID:', currentUserId);\n\n      // Lấy vé với userId\n      const response = await fetch(`http://localhost:8080/api/v1/tickets?userId=${currentUserId}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      console.log('Response status:', response.status); // Debug response status\n\n      if (response.ok) {\n        const data = await response.json();\n        console.log('Tickets data:', data); // Debug dữ liệu trả về\n\n        // API trả về {tickets: [...], pagination: {...}}\n        // Chuyển đổi dữ liệu từ API sang định dạng UI mong đợi\n        let ticketsArray = [];\n        if (data.tickets && Array.isArray(data.tickets)) {\n          ticketsArray = data.tickets.filter(ticket => ticket.userId === currentUserId) // Lọc vé theo user hiện tại\n          .map(ticket => ({\n            _id: ticket._id,\n            ticketCode: ticket.ticketCode,\n            passengerName: ticket.passengerName,\n            email: ticket.email,\n            phoneNumber: ticket.phoneNumber,\n            seatNumber: ticket.seatNumber,\n            price: ticket.price,\n            passengerCount: ticket.passengerCount,\n            paymentStatus: ticket.paymentStatus,\n            bookingDate: ticket.bookingDate,\n            paidAt: ticket.paidAt,\n            refundedAt: ticket.refundedAt,\n            status: ticket.status\n          }));\n        }\n        console.log('Processed tickets:', ticketsArray); // Debug dữ liệu đã xử lý\n        setTickets(ticketsArray);\n      } else {\n        console.error('Lỗi lấy danh sách vé, status:', response.status);\n        const errorData = await response.json();\n        console.error('Error data:', errorData);\n        setTickets([]);\n      }\n    } catch (error) {\n      console.error('Lỗi kết nối:', error);\n      setTickets([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Hủy vé\n  const handleCancelTicket = async (ticketId, reason = 'Customer requested cancellation') => {\n    // Tạo modal xác nhận thay vì dùng confirm()\n    const confirmed = window.confirm('Bạn có chắc chắn muốn hủy vé này?');\n    if (!confirmed) {\n      return;\n    }\n    setCancelling(ticketId);\n    try {\n      const token = localStorage.getItem('accessToken');\n      const response = await fetch('http://localhost:8080/api/v1/payments/refund', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          ticketId,\n          reason\n        })\n      });\n      if (response.ok) {\n        alert('Vé đã được hủy thành công! Số tiền sẽ được hoàn lại trong 5-10 ngày làm việc.');\n        // Cập nhật trạng thái vé trong danh sách\n        setTickets(prevTickets => prevTickets.map(ticket => ticket._id === ticketId ? {\n          ...ticket,\n          paymentStatus: 'refunded',\n          status: 'cancelled'\n        } : ticket));\n      } else {\n        const error = await response.json();\n        alert(`Lỗi hủy vé: ${error.message}`);\n      }\n    } catch (error) {\n      console.error('Lỗi hủy vé:', error);\n      alert('Không thể hủy vé. Vui lòng thử lại sau!');\n    } finally {\n      setCancelling(null);\n    }\n  };\n\n  // Định dạng ngày tháng\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleString('vi-VN', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  // Định dạng tiền tệ\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('vi-VN', {\n      style: 'currency',\n      currency: 'VND'\n    }).format(amount);\n  };\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tickets-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"unauthorized\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Vui l\\xF2ng \\u0111\\u0103ng nh\\u1EADp \\u0111\\u1EC3 xem v\\xE9 \\u0111\\xE3 \\u0111\\u1EB7t\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/login'),\n          className: \"login-btn\",\n          children: \"\\u0110\\u0103ng nh\\u1EADp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tickets-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"\\u0110ang t\\u1EA3i danh s\\xE1ch v\\xE9...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tickets-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tickets-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"V\\xE9 \\u0111\\xE3 \\u0111\\u1EB7t\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/'),\n        className: \"back-btn\",\n        children: \"\\u2190 Quay l\\u1EA1i trang ch\\u1EE7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), Array.isArray(tickets) && tickets.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-tickets\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"B\\u1EA1n ch\\u01B0a c\\xF3 v\\xE9 n\\xE0o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"H\\xE3y \\u0111\\u1EB7t v\\xE9 m\\xE1y bay \\u0111\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u h\\xE0nh tr\\xECnh c\\u1EE7a b\\u1EA1n!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/'),\n        className: \"book-now-btn\",\n        children: \"\\u0110\\u1EB7t v\\xE9 ngay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }, this) : Array.isArray(tickets) ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tickets-list\",\n      children: tickets.map(ticket => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `ticket-card ${ticket.paymentStatus}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ticket-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ticket-code\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"M\\xE3 v\\xE9: \", ticket.ticketCode]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `ticket-status ${ticket.paymentStatus}`,\n            children: [ticket.paymentStatus === 'paid' && '✓ Đã thanh toán', ticket.paymentStatus === 'pending' && '⏳ Chờ thanh toán', ticket.paymentStatus === 'refunded' && '↩ Đã hoàn tiền', ticket.paymentStatus === 'failed' && '✗ Thất bại']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ticket-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ticket-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Th\\xF4ng tin h\\xE0nh kh\\xE1ch\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 24\n                }, this), \" \", ticket.email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 24\n                }, this), \" \", ticket.phoneNumber]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Th\\xF4ng tin v\\xE9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"M\\xE3 v\\xE9:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 24\n                }, this), \" \", ticket.ticketCode]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"S\\u1ED1 l\\u01B0\\u1EE3ng h\\xE0nh kh\\xE1ch:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 24\n                }, this), \" \", ticket.passengerCount || 1, \" ng\\u01B0\\u1EDDi\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"S\\u1ED1 gh\\u1EBF:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 24\n                }, this), \" \", ticket.seatNumbers && ticket.seatNumbers.length > 0 ? ticket.seatNumbers.join(', ') : ticket.seatNumber || 'Chưa xác định']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Ng\\xE0y \\u0111\\u1EB7t:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 24\n                }, this), \" \", formatDate(ticket.bookingDate)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Gi\\xE1 v\\xE9:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 24\n                }, this), \" \", formatCurrency(ticket.price)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Tr\\u1EA1ng th\\xE1i:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 24\n                }, this), \" \", ticket.paymentStatus === 'paid' ? 'Đã thanh toán' : ticket.paymentStatus === 'refunded' ? 'Đã hoàn tiền' : 'Chờ thanh toán']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 21\n              }, this), ticket.paidAt && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Ng\\xE0y thanh to\\xE1n:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 26\n                }, this), \" \", formatDate(ticket.paidAt)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 23\n              }, this), ticket.refundedAt && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Ng\\xE0y ho\\xE0n ti\\u1EC1n:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 26\n                }, this), \" \", formatDate(ticket.refundedAt)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ticket-actions\",\n            children: [ticket.paymentStatus === 'paid' && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleCancelTicket(ticket._id),\n              disabled: cancelling === ticket._id,\n              className: \"cancel-btn\",\n              children: cancelling === ticket._id ? 'Đang hủy...' : 'Hủy vé'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 21\n            }, this), ticket.paymentStatus === 'refunded' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"refund-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"V\\xE9 \\u0111\\xE3 \\u0111\\u01B0\\u1EE3c h\\u1EE7y v\\xE0 ho\\xE0n ti\\u1EC1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 23\n              }, this), ticket.refundReason && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"small\", {\n                  children: [\"L\\xFD do: \", ticket.refundReason]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 28\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 15\n        }, this)]\n      }, ticket._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"C\\xF3 l\\u1ED7i khi t\\u1EA3i danh s\\xE1ch v\\xE9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Vui l\\xF2ng th\\u1EED l\\u1EA1i sau ho\\u1EB7c li\\xEAn h\\u1EC7 h\\u1ED7 tr\\u1EE3.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchTickets,\n        className: \"retry-btn\",\n        children: \"Th\\u1EED l\\u1EA1i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 5\n  }, this);\n};\n_s(Tickets, \"CSCvg5olBx3u3Wue9SXMISLG2XU=\", false, function () {\n  return [useNavigate];\n});\n_c = Tickets;\nexport default Tickets;\nvar _c;\n$RefreshReg$(_c, \"Tickets\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsxDEV","_jsxDEV","Tickets","user","_s","tickets","setTickets","loading","setLoading","cancelling","setCancelling","navigate","fetchTickets","token","localStorage","getItem","console","log","userResponse","fetch","headers","ok","error","userData","json","currentUserId","data","_id","response","status","ticketsArray","Array","isArray","filter","ticket","userId","map","ticketCode","passengerName","email","phoneNumber","seatNumber","price","passengerCount","paymentStatus","bookingDate","paidAt","refundedAt","errorData","handleCancelTicket","ticketId","reason","confirmed","window","confirm","method","body","JSON","stringify","alert","prevTickets","message","formatDate","dateString","Date","toLocaleString","year","month","day","hour","minute","formatCurrency","amount","Intl","NumberFormat","style","currency","format","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","seatNumbers","join","disabled","refundReason","_c","$RefreshReg$"],"sources":["D:/Airticket/frontend/src/pages/Tickets.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './Tickets.css';\n\nconst Tickets = ({ user }) => {\n  const [tickets, setTickets] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [cancelling, setCancelling] = useState(null);\n  const navigate = useNavigate();\n\n  // Lấy danh sách vé đã đặt\n  useEffect(() => {\n    if (user) {\n      fetchTickets();\n    }\n  }, [user]);\n\n  const fetchTickets = async () => {\n    try {\n      const token = localStorage.getItem('accessToken');\n      console.log('Token:', token); // Debug token\n\n      // Lấy thông tin user từ token để đảm bảo lấy đúng vé\n      const userResponse = await fetch('http://localhost:8080/api/v1/auth/get-profile', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (!userResponse.ok) {\n        console.error('Không thể lấy thông tin user');\n        setTickets([]);\n        return;\n      }\n\n      const userData = await userResponse.json();\n      const currentUserId = userData.data._id;\n      console.log('Current user ID:', currentUserId);\n\n      // Lấy vé với userId\n      const response = await fetch(`http://localhost:8080/api/v1/tickets?userId=${currentUserId}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      console.log('Response status:', response.status); // Debug response status\n\n      if (response.ok) {\n        const data = await response.json();\n        console.log('Tickets data:', data); // Debug dữ liệu trả về\n\n        // API trả về {tickets: [...], pagination: {...}}\n        // Chuyển đổi dữ liệu từ API sang định dạng UI mong đợi\n        let ticketsArray = [];\n        if (data.tickets && Array.isArray(data.tickets)) {\n          ticketsArray = data.tickets\n            .filter(ticket => ticket.userId === currentUserId) // Lọc vé theo user hiện tại\n            .map(ticket => ({\n              _id: ticket._id,\n              ticketCode: ticket.ticketCode,\n              passengerName: ticket.passengerName,\n              email: ticket.email,\n              phoneNumber: ticket.phoneNumber,\n              seatNumber: ticket.seatNumber,\n              price: ticket.price,\n              passengerCount: ticket.passengerCount,\n              paymentStatus: ticket.paymentStatus,\n              bookingDate: ticket.bookingDate,\n              paidAt: ticket.paidAt,\n              refundedAt: ticket.refundedAt,\n              status: ticket.status\n            }));\n        }\n\n        console.log('Processed tickets:', ticketsArray); // Debug dữ liệu đã xử lý\n        setTickets(ticketsArray);\n      } else {\n        console.error('Lỗi lấy danh sách vé, status:', response.status);\n        const errorData = await response.json();\n        console.error('Error data:', errorData);\n        setTickets([]);\n      }\n    } catch (error) {\n      console.error('Lỗi kết nối:', error);\n      setTickets([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Hủy vé\n  const handleCancelTicket = async (ticketId, reason = 'Customer requested cancellation') => {\n    // Tạo modal xác nhận thay vì dùng confirm()\n    const confirmed = window.confirm('Bạn có chắc chắn muốn hủy vé này?');\n    if (!confirmed) {\n      return;\n    }\n\n    setCancelling(ticketId);\n\n    try {\n      const token = localStorage.getItem('accessToken');\n      const response = await fetch('http://localhost:8080/api/v1/payments/refund', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          ticketId,\n          reason\n        })\n      });\n\n      if (response.ok) {\n        alert('Vé đã được hủy thành công! Số tiền sẽ được hoàn lại trong 5-10 ngày làm việc.');\n        // Cập nhật trạng thái vé trong danh sách\n        setTickets(prevTickets =>\n          prevTickets.map(ticket =>\n            ticket._id === ticketId\n              ? { ...ticket, paymentStatus: 'refunded', status: 'cancelled' }\n              : ticket\n          )\n        );\n      } else {\n        const error = await response.json();\n        alert(`Lỗi hủy vé: ${error.message}`);\n      }\n    } catch (error) {\n      console.error('Lỗi hủy vé:', error);\n      alert('Không thể hủy vé. Vui lòng thử lại sau!');\n    } finally {\n      setCancelling(null);\n    }\n  };\n\n  // Định dạng ngày tháng\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleString('vi-VN', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  // Định dạng tiền tệ\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(amount);\n  };\n\n  if (!user) {\n    return (\n      <div className=\"tickets-container\">\n        <div className=\"unauthorized\">\n          <h2>Vui lòng đăng nhập để xem vé đã đặt</h2>\n          <button onClick={() => navigate('/login')} className=\"login-btn\">\n            Đăng nhập\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"tickets-container\">\n        <div className=\"loading\">Đang tải danh sách vé...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"tickets-container\">\n      <div className=\"tickets-header\">\n        <h2>Vé đã đặt</h2>\n        <button onClick={() => navigate('/')} className=\"back-btn\">\n          ← Quay lại trang chủ\n        </button>\n      </div>\n\n      {Array.isArray(tickets) && tickets.length === 0 ? (\n        <div className=\"no-tickets\">\n          <h3>Bạn chưa có vé nào</h3>\n          <p>Hãy đặt vé máy bay để bắt đầu hành trình của bạn!</p>\n          <button onClick={() => navigate('/')} className=\"book-now-btn\">\n            Đặt vé ngay\n          </button>\n        </div>\n      ) : Array.isArray(tickets) ? (\n        <div className=\"tickets-list\">\n          {tickets.map((ticket) => (\n            <div key={ticket._id} className={`ticket-card ${ticket.paymentStatus}`}>\n              <div className=\"ticket-header\">\n                <div className=\"ticket-code\">\n                  <strong>Mã vé: {ticket.ticketCode}</strong>\n                </div>\n                <div className={`ticket-status ${ticket.paymentStatus}`}>\n                  {ticket.paymentStatus === 'paid' && '✓ Đã thanh toán'}\n                  {ticket.paymentStatus === 'pending' && '⏳ Chờ thanh toán'}\n                  {ticket.paymentStatus === 'refunded' && '↩ Đã hoàn tiền'}\n                  {ticket.paymentStatus === 'failed' && '✗ Thất bại'}\n                </div>\n              </div>\n\n              <div className=\"ticket-content\">\n                <div className=\"ticket-info\">\n                  <div className=\"info-section\">\n                    <h4>Thông tin hành khách</h4>\n                    <p><strong>Email:</strong> {ticket.email}</p>\n                    <p><strong>Số điện thoại:</strong> {ticket.phoneNumber}</p>\n                  </div>\n\n                  <div className=\"info-section\">\n                    <h4>Thông tin vé</h4>\n                    <p><strong>Mã vé:</strong> {ticket.ticketCode}</p>\n                    <p><strong>Số lượng hành khách:</strong> {ticket.passengerCount || 1} người</p>\n                    <p><strong>Số ghế:</strong> {ticket.seatNumbers && ticket.seatNumbers.length > 0 ? ticket.seatNumbers.join(', ') : ticket.seatNumber || 'Chưa xác định'}</p>\n                    <p><strong>Ngày đặt:</strong> {formatDate(ticket.bookingDate)}</p>\n                  </div>\n\n                  <div className=\"info-section\">\n                    <p><strong>Giá vé:</strong> {formatCurrency(ticket.price)}</p>\n                    <p><strong>Trạng thái:</strong> {ticket.paymentStatus === 'paid' ? 'Đã thanh toán' : ticket.paymentStatus === 'refunded' ? 'Đã hoàn tiền' : 'Chờ thanh toán'}</p>\n                    {ticket.paidAt && (\n                      <p><strong>Ngày thanh toán:</strong> {formatDate(ticket.paidAt)}</p>\n                    )}\n                    {ticket.refundedAt && (\n                      <p><strong>Ngày hoàn tiền:</strong> {formatDate(ticket.refundedAt)}</p>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"ticket-actions\">\n                  {ticket.paymentStatus === 'paid' && (\n                    <button\n                      onClick={() => handleCancelTicket(ticket._id)}\n                      disabled={cancelling === ticket._id}\n                      className=\"cancel-btn\"\n                    >\n                      {cancelling === ticket._id ? 'Đang hủy...' : 'Hủy vé'}\n                    </button>\n                  )}\n\n                  {ticket.paymentStatus === 'refunded' && (\n                    <div className=\"refund-info\">\n                      <p>Vé đã được hủy và hoàn tiền</p>\n                      {ticket.refundReason && (\n                        <p><small>Lý do: {ticket.refundReason}</small></p>\n                      )}\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      ) : (\n        <div className=\"error-message\">\n          <h3>Có lỗi khi tải danh sách vé</h3>\n          <p>Vui lòng thử lại sau hoặc liên hệ hỗ trợ.</p>\n          <button onClick={fetchTickets} className=\"retry-btn\">\n            Thử lại\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Tickets;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}