{"ast":null,"code":"var _jsxFileName = \"D:\\\\Airticket\\\\frontend\\\\src\\\\components\\\\SeatLayout.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './SeatLayout.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SeatLayout = ({\n  flightId,\n  selectedSeats = [],\n  onSeatSelect,\n  passengerCount = 1,\n  maxSelections = 1,\n  flightPrices = null,\n  // Th√™m th√¥ng tin gi√° v√© t·ª´ flight\n  onSeatPriceChange // Callback khi gi√° gh·∫ø thay ƒë·ªïi\n}) => {\n  _s();\n  const [seatLayout, setSeatLayout] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [hoveredSeat, setHoveredSeat] = useState(null);\n  useEffect(() => {\n    const fetchSeatLayout = async () => {\n      try {\n        setLoading(true);\n        const response = await fetch(`http://localhost:8080/api/v1/seat-layout/flights/${flightId}/seats`);\n        if (response.ok) {\n          const data = await response.json();\n          setSeatLayout(data.data);\n        } else {\n          setError('Kh√¥ng th·ªÉ t·∫£i s∆° ƒë·ªì gh·∫ø');\n        }\n      } catch (error) {\n        console.error('L·ªói t·∫£i s∆° ƒë·ªì gh·∫ø:', error);\n        setError('L·ªói k·∫øt n·ªëi server');\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (flightId) {\n      fetchSeatLayout();\n    }\n\n    // Refresh d·ªØ li·ªáu gh·∫ø m·ªói 10 gi√¢y ƒë·ªÉ ƒë·ªìng b·ªô v·ªõi tr·∫°ng th√°i th·ª±c t·∫ø\n    const interval = setInterval(fetchSeatLayout, 10000);\n    return () => clearInterval(interval);\n  }, [flightId]);\n\n  // Refresh d·ªØ li·ªáu gh·∫ø khi ng∆∞·ªùi d√πng ch·ªçn gh·∫ø (ƒë·ªÉ tr√°nh xung ƒë·ªôt)\n  useEffect(() => {\n    if (selectedSeats.length > 0) {\n      const refreshSeatLayout = async () => {\n        try {\n          const response = await fetch(`http://localhost:8080/api/v1/seat-layout/flights/${flightId}/seats`);\n          if (response.ok) {\n            const data = await response.json();\n            setSeatLayout(data.data);\n          }\n        } catch (error) {\n          console.error('L·ªói refresh s∆° ƒë·ªì gh·∫ø:', error);\n        }\n      };\n\n      // Refresh sau 2 gi√¢y k·ªÉ t·ª´ l·∫ßn ch·ªçn gh·∫ø cu·ªëi c√πng\n      const timeout = setTimeout(refreshSeatLayout, 2000);\n      return () => clearTimeout(timeout);\n    }\n  }, [selectedSeats, flightId, fetchSeatLayout]);\n\n  // T√≠nh gi√° c·ªßa m·ªôt gh·∫ø d·ª±a tr√™n h·∫°ng\n  const getSeatPrice = seat => {\n    if (!flightPrices) return 0;\n    switch (seat.seatClass) {\n      case 'first':\n        return flightPrices.firstClassPrice || flightPrices.economyPrice || 0;\n      case 'business':\n        return flightPrices.businessPrice || flightPrices.economyPrice || 0;\n      case 'economy':\n        return flightPrices.economyPrice || 0;\n      default:\n        return flightPrices.economyPrice || 0;\n    }\n  };\n\n  // Format gi√° ti·ªÅn\n  const formatPrice = price => {\n    return new Intl.NumberFormat('vi-VN', {\n      style: 'currency',\n      currency: 'VND'\n    }).format(price);\n  };\n  const getSeatColor = seat => {\n    // Base color by seat class\n    let baseColor = '';\n    switch (seat.seatClass) {\n      case 'first':\n        baseColor = '#FFD700'; // Yellow/gold for first class\n        break;\n      case 'business':\n        baseColor = '#9333EA'; // Purple for business class\n        break;\n      case 'economy':\n        baseColor = '#3B82F6'; // Blue for economy class\n        break;\n      default:\n        baseColor = '#6B7280';\n      // Gray for unknown class\n    }\n\n    // Override color based on status\n    if (seat.status === 'booked') {\n      return '#EF4444'; // Red for booked seats\n    }\n\n    // If seat is selected by user, show green\n    if (selectedSeats.includes(seat.seatId)) {\n      return '#10B981'; // Green for selected seats\n    }\n    return baseColor;\n  };\n  const handleSeatClick = seat => {\n    if (seat.status === 'booked') {\n      return; // Can't select booked seats\n    }\n    if (selectedSeats.includes(seat.seatId)) {\n      // Deselect seat\n      const newSelectedSeats = selectedSeats.filter(id => id !== seat.seatId);\n      onSeatSelect(newSelectedSeats);\n\n      // T√≠nh l·∫°i t·ªïng gi√° sau khi b·ªè ch·ªçn gh·∫ø\n      if (onSeatPriceChange) {\n        const totalPrice = newSelectedSeats.reduce((sum, seatId) => {\n          const seatInfo = getSeatById(seatId);\n          return sum + (seatInfo ? getSeatPrice(seatInfo) : 0);\n        }, 0);\n        onSeatPriceChange(totalPrice);\n      }\n    } else {\n      // Select seat (check max selections limit)\n      if (selectedSeats.length < maxSelections) {\n        const newSelectedSeats = [...selectedSeats, seat.seatId];\n        onSeatSelect(newSelectedSeats);\n\n        // T√≠nh l·∫°i t·ªïng gi√° sau khi ch·ªçn gh·∫ø\n        if (onSeatPriceChange) {\n          const totalPrice = newSelectedSeats.reduce((sum, seatId) => {\n            const seatInfo = getSeatById(seatId);\n            return sum + (seatInfo ? getSeatPrice(seatInfo) : 0);\n          }, 0);\n          onSeatPriceChange(totalPrice);\n        }\n      }\n    }\n  };\n  const handleSeatHover = seat => {\n    setHoveredSeat(seat);\n  };\n  const handleSeatLeave = () => {\n    setHoveredSeat(null);\n  };\n  const getSeatById = seatId => {\n    if (!seatLayout) return null;\n    for (const row of seatLayout.layout) {\n      for (const seat of row.seats) {\n        if (seat.seatId === seatId) {\n          return seat;\n        }\n      }\n    }\n    return null;\n  };\n  const isSeatSelected = seatId => {\n    return selectedSeats.includes(seatId);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seat-layout-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"\\u0110ang t\\u1EA3i s\\u01A1 \\u0111\\u1ED3 gh\\u1EBF...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seat-layout-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this);\n  }\n  if (!seatLayout) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seat-layout-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: \"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u s\\u01A1 \\u0111\\u1ED3 gh\\u1EBF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"seat-layout-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seat-layout-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Ch\\u1ECDn gh\\u1EBF ng\\u1ED3i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"seat-legend\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-color available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Gh\\u1EBF tr\\u1ED1ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-color selected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Gh\\u1EBF \\u0111\\xE3 ch\\u1ECDn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-color booked\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Gh\\u1EBF \\u0111\\xE3 \\u0111\\u1EB7t\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seat-class-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"class-info first-class\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"class-color first\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"H\\u1EA1ng nh\\u1EA5t (\", flightPrices ? formatPrice(flightPrices.firstClassPrice || flightPrices.economyPrice || 0) : 'N/A', \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"class-info business-class\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"class-color business\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Th\\u01B0\\u01A1ng gia (\", flightPrices ? formatPrice(flightPrices.businessPrice || flightPrices.economyPrice || 0) : 'N/A', \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"class-info economy-class\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"class-color economy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Ph\\u1ED5 th\\xF4ng (\", flightPrices ? formatPrice(flightPrices.economyPrice || 0) : 'N/A', \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"airplane-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"airplane\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"airplane-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cockpit-label\",\n            children: \"COCKPIT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"exit-row\",\n            children: \"EXIT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"seat-grid\",\n          children: seatLayout.layout.map((row, rowIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"seat-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row-number\",\n              children: row.row\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"seats-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"left-seats\",\n                children: row.seats.slice(0, 3).map((seat, index) => {\n                  const isWindowSeat = index === 0; // Ch·ªâ gh·∫ø A l√† c·ª≠a s·ªï\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `seat ${isSeatSelected(seat.seatId) ? 'selected' : ''} ${seat.status === 'booked' ? 'booked' : 'available'} ${isWindowSeat ? 'window' : 'aisle-seat'}`,\n                    style: {\n                      backgroundColor: getSeatColor(seat),\n                      cursor: seat.status === 'booked' ? 'not-allowed' : 'pointer'\n                    },\n                    onClick: () => handleSeatClick(seat),\n                    onMouseEnter: () => handleSeatHover(seat),\n                    onMouseLeave: handleSeatLeave,\n                    title: `${seat.seatId} - ${seat.seatClass === 'first' ? 'H·∫°ng nh·∫•t' : seat.seatClass === 'business' ? 'Th∆∞∆°ng gia' : 'Ph·ªï th√¥ng'} - ${isWindowSeat ? 'Gh·∫ø c·ª≠a s·ªï' : 'Gh·∫ø l·ªëi ƒëi'} (${formatPrice(getSeatPrice(seat))})`,\n                    children: seat.seatId\n                  }, seat.seatId, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"aisle\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"aisle-label\",\n                  children: \"L\\u1ED1i \\u0111i\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"right-seats\",\n                children: row.seats.slice(3, 6).map((seat, index) => {\n                  const isWindowSeat = index === 2; // Ch·ªâ gh·∫ø F l√† c·ª≠a s·ªï (index 2 trong slice 3-6)\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `seat ${isSeatSelected(seat.seatId) ? 'selected' : ''} ${seat.status === 'booked' ? 'booked' : 'available'} ${isWindowSeat ? 'window' : 'aisle-seat'}`,\n                    style: {\n                      backgroundColor: getSeatColor(seat),\n                      cursor: seat.status === 'booked' ? 'not-allowed' : 'pointer'\n                    },\n                    onClick: () => handleSeatClick(seat),\n                    onMouseEnter: () => handleSeatHover(seat),\n                    onMouseLeave: handleSeatLeave,\n                    title: `${seat.seatId} - ${seat.seatClass === 'first' ? 'H·∫°ng nh·∫•t' : seat.seatClass === 'business' ? 'Th∆∞∆°ng gia' : 'Ph·ªï th√¥ng'} - ${isWindowSeat ? 'Gh·∫ø c·ª≠a s·ªï' : 'Gh·∫ø l·ªëi ƒëi'} (${formatPrice(getSeatPrice(seat))})`,\n                    children: seat.seatId\n                  }, seat.seatId, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row-number\",\n              children: row.row\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this)]\n          }, row.row, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"airplane-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"exit-row\",\n            children: \"EXIT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), hoveredSeat && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seat-hover-info\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"seat-hover-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"seat-hover-title\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: hoveredSeat.seatId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"seat-hover-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"seat-hover-class\",\n            children: [\"H\\u1EA1ng: \", hoveredSeat.seatClass === 'first' ? 'H·∫°ng nh·∫•t' : hoveredSeat.seatClass === 'business' ? 'Th∆∞∆°ng gia' : 'Ph·ªï th√¥ng']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"seat-hover-position\",\n            children: [\"V\\u1ECB tr\\xED: \", (() => {\n              let currentRow = null;\n              let seatInRowIndex = null;\n              for (const row of seatLayout.layout) {\n                const seatIndexInRow = row.seats.findIndex(s => s.seatId === hoveredSeat.seatId);\n                if (seatIndexInRow !== -1) {\n                  currentRow = row;\n                  seatInRowIndex = seatIndexInRow;\n                  break;\n                }\n              }\n              if (currentRow && seatInRowIndex !== null) {\n                const isWindowSeat = seatInRowIndex === 0 || seatInRowIndex === 5;\n                return isWindowSeat ? 'Gh·∫ø c·ª≠a s·ªï' : 'Gh·∫ø l·ªëi ƒëi';\n              }\n              return 'Gh·∫ø l·ªëi ƒëi';\n            })()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"seat-hover-price\",\n            children: [\"Gi\\xE1: \", formatPrice(getSeatPrice(hoveredSeat))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seat-selection-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u0110\\xE3 ch\\u1ECDn: \", selectedSeats.length, \"/\", maxSelections, \" gh\\u1EBF\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this), selectedSeats.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"selected-seats\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Gh\\u1EBF \\u0111\\xE3 ch\\u1ECDn:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selected-seats-list\",\n          children: selectedSeats.map(seatId => {\n            const seat = getSeatById(seatId);\n\n            // T√¨m v·ªã tr√≠ gh·∫ø trong h√†ng hi·ªán t·∫°i\n            let seatInRowIndex = null;\n            for (const row of seatLayout.layout) {\n              const index = row.seats.findIndex(s => s.seatId === seatId);\n              if (index !== -1) {\n                seatInRowIndex = index;\n                break;\n              }\n            }\n\n            // V·ªõi layout 3+3: ch·ªâ gh·∫ø A (0) v√† F (5) l√† c·ª≠a s·ªï\n            const isWindowSeat = seatInRowIndex !== null && (seatInRowIndex === 0 || seatInRowIndex === 5);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"selected-seat-badge\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"seat-id\",\n                children: seatId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"seat-position\",\n                children: isWindowSeat ? 'ü™ü C·ª≠a s·ªï' : 'üö∂ L·ªëi ƒëi'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"seat-price\",\n                children: [\"(\", formatPrice(seat ? getSeatPrice(seat) : 0), \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 21\n              }, this)]\n            }, seatId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 205,\n    columnNumber: 5\n  }, this);\n};\n_s(SeatLayout, \"SNk5VDlofQEk7AFFtgzlMRl+QwY=\");\n_c = SeatLayout;\nexport default SeatLayout;\nvar _c;\n$RefreshReg$(_c, \"SeatLayout\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","SeatLayout","flightId","selectedSeats","onSeatSelect","passengerCount","maxSelections","flightPrices","onSeatPriceChange","_s","seatLayout","setSeatLayout","loading","setLoading","error","setError","hoveredSeat","setHoveredSeat","fetchSeatLayout","response","fetch","ok","data","json","console","interval","setInterval","clearInterval","length","refreshSeatLayout","timeout","setTimeout","clearTimeout","getSeatPrice","seat","seatClass","firstClassPrice","economyPrice","businessPrice","formatPrice","price","Intl","NumberFormat","style","currency","format","getSeatColor","baseColor","status","includes","seatId","handleSeatClick","newSelectedSeats","filter","id","totalPrice","reduce","sum","seatInfo","getSeatById","handleSeatHover","handleSeatLeave","row","layout","seats","isSeatSelected","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","rowIndex","slice","index","isWindowSeat","backgroundColor","cursor","onClick","onMouseEnter","onMouseLeave","title","currentRow","seatInRowIndex","seatIndexInRow","findIndex","s","_c","$RefreshReg$"],"sources":["D:/Airticket/frontend/src/components/SeatLayout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './SeatLayout.css';\n\nconst SeatLayout = ({\n  flightId,\n  selectedSeats = [],\n  onSeatSelect,\n  passengerCount = 1,\n  maxSelections = 1,\n  flightPrices = null, // Th√™m th√¥ng tin gi√° v√© t·ª´ flight\n  onSeatPriceChange // Callback khi gi√° gh·∫ø thay ƒë·ªïi\n}) => {\n  const [seatLayout, setSeatLayout] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [hoveredSeat, setHoveredSeat] = useState(null);\n\n  useEffect(() => {\n    const fetchSeatLayout = async () => {\n      try {\n        setLoading(true);\n        const response = await fetch(`http://localhost:8080/api/v1/seat-layout/flights/${flightId}/seats`);\n        if (response.ok) {\n          const data = await response.json();\n          setSeatLayout(data.data);\n        } else {\n          setError('Kh√¥ng th·ªÉ t·∫£i s∆° ƒë·ªì gh·∫ø');\n        }\n      } catch (error) {\n        console.error('L·ªói t·∫£i s∆° ƒë·ªì gh·∫ø:', error);\n        setError('L·ªói k·∫øt n·ªëi server');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (flightId) {\n      fetchSeatLayout();\n    }\n\n    // Refresh d·ªØ li·ªáu gh·∫ø m·ªói 10 gi√¢y ƒë·ªÉ ƒë·ªìng b·ªô v·ªõi tr·∫°ng th√°i th·ª±c t·∫ø\n    const interval = setInterval(fetchSeatLayout, 10000);\n\n    return () => clearInterval(interval);\n  }, [flightId]);\n\n  // Refresh d·ªØ li·ªáu gh·∫ø khi ng∆∞·ªùi d√πng ch·ªçn gh·∫ø (ƒë·ªÉ tr√°nh xung ƒë·ªôt)\n  useEffect(() => {\n    if (selectedSeats.length > 0) {\n      const refreshSeatLayout = async () => {\n        try {\n          const response = await fetch(`http://localhost:8080/api/v1/seat-layout/flights/${flightId}/seats`);\n          if (response.ok) {\n            const data = await response.json();\n            setSeatLayout(data.data);\n          }\n        } catch (error) {\n          console.error('L·ªói refresh s∆° ƒë·ªì gh·∫ø:', error);\n        }\n      };\n\n      // Refresh sau 2 gi√¢y k·ªÉ t·ª´ l·∫ßn ch·ªçn gh·∫ø cu·ªëi c√πng\n      const timeout = setTimeout(refreshSeatLayout, 2000);\n      return () => clearTimeout(timeout);\n    }\n  }, [selectedSeats, flightId, fetchSeatLayout]);\n\n  // T√≠nh gi√° c·ªßa m·ªôt gh·∫ø d·ª±a tr√™n h·∫°ng\n  const getSeatPrice = (seat) => {\n    if (!flightPrices) return 0;\n\n    switch (seat.seatClass) {\n      case 'first':\n        return flightPrices.firstClassPrice || flightPrices.economyPrice || 0;\n      case 'business':\n        return flightPrices.businessPrice || flightPrices.economyPrice || 0;\n      case 'economy':\n        return flightPrices.economyPrice || 0;\n      default:\n        return flightPrices.economyPrice || 0;\n    }\n  };\n\n  // Format gi√° ti·ªÅn\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(price);\n  };\n\n  const getSeatColor = (seat) => {\n    // Base color by seat class\n    let baseColor = '';\n\n    switch (seat.seatClass) {\n      case 'first':\n        baseColor = '#FFD700'; // Yellow/gold for first class\n        break;\n      case 'business':\n        baseColor = '#9333EA'; // Purple for business class\n        break;\n      case 'economy':\n        baseColor = '#3B82F6'; // Blue for economy class\n        break;\n      default:\n        baseColor = '#6B7280'; // Gray for unknown class\n    }\n\n    // Override color based on status\n    if (seat.status === 'booked') {\n      return '#EF4444'; // Red for booked seats\n    }\n\n    // If seat is selected by user, show green\n    if (selectedSeats.includes(seat.seatId)) {\n      return '#10B981'; // Green for selected seats\n    }\n\n    return baseColor;\n  };\n\n  const handleSeatClick = (seat) => {\n    if (seat.status === 'booked') {\n      return; // Can't select booked seats\n    }\n\n    if (selectedSeats.includes(seat.seatId)) {\n      // Deselect seat\n      const newSelectedSeats = selectedSeats.filter(id => id !== seat.seatId);\n      onSeatSelect(newSelectedSeats);\n\n      // T√≠nh l·∫°i t·ªïng gi√° sau khi b·ªè ch·ªçn gh·∫ø\n      if (onSeatPriceChange) {\n        const totalPrice = newSelectedSeats.reduce((sum, seatId) => {\n          const seatInfo = getSeatById(seatId);\n          return sum + (seatInfo ? getSeatPrice(seatInfo) : 0);\n        }, 0);\n        onSeatPriceChange(totalPrice);\n      }\n    } else {\n      // Select seat (check max selections limit)\n      if (selectedSeats.length < maxSelections) {\n        const newSelectedSeats = [...selectedSeats, seat.seatId];\n        onSeatSelect(newSelectedSeats);\n\n        // T√≠nh l·∫°i t·ªïng gi√° sau khi ch·ªçn gh·∫ø\n        if (onSeatPriceChange) {\n          const totalPrice = newSelectedSeats.reduce((sum, seatId) => {\n            const seatInfo = getSeatById(seatId);\n            return sum + (seatInfo ? getSeatPrice(seatInfo) : 0);\n          }, 0);\n          onSeatPriceChange(totalPrice);\n        }\n      }\n    }\n  };\n\n  const handleSeatHover = (seat) => {\n    setHoveredSeat(seat);\n  };\n\n  const handleSeatLeave = () => {\n    setHoveredSeat(null);\n  };\n\n  const getSeatById = (seatId) => {\n    if (!seatLayout) return null;\n    for (const row of seatLayout.layout) {\n      for (const seat of row.seats) {\n        if (seat.seatId === seatId) {\n          return seat;\n        }\n      }\n    }\n    return null;\n  };\n\n  const isSeatSelected = (seatId) => {\n    return selectedSeats.includes(seatId);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"seat-layout-container\">\n        <div className=\"loading\">ƒêang t·∫£i s∆° ƒë·ªì gh·∫ø...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"seat-layout-container\">\n        <div className=\"error\">{error}</div>\n      </div>\n    );\n  }\n\n  if (!seatLayout) {\n    return (\n      <div className=\"seat-layout-container\">\n        <div className=\"error\">Kh√¥ng c√≥ d·ªØ li·ªáu s∆° ƒë·ªì gh·∫ø</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"seat-layout-container\">\n      <div className=\"seat-layout-header\">\n        <h3>Ch·ªçn gh·∫ø ng·ªìi</h3>\n        <div className=\"seat-legend\">\n          <div className=\"legend-item\">\n            <div className=\"legend-color available\"></div>\n            <span>Gh·∫ø tr·ªëng</span>\n          </div>\n          <div className=\"legend-item\">\n            <div className=\"legend-color selected\"></div>\n            <span>Gh·∫ø ƒë√£ ch·ªçn</span>\n          </div>\n          <div className=\"legend-item\">\n            <div className=\"legend-color booked\"></div>\n            <span>Gh·∫ø ƒë√£ ƒë·∫∑t</span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"seat-class-info\">\n        <div className=\"class-info first-class\">\n          <div className=\"class-color first\"></div>\n          <span>H·∫°ng nh·∫•t ({flightPrices ? formatPrice(flightPrices.firstClassPrice || flightPrices.economyPrice || 0) : 'N/A'})</span>\n        </div>\n        <div className=\"class-info business-class\">\n          <div className=\"class-color business\"></div>\n          <span>Th∆∞∆°ng gia ({flightPrices ? formatPrice(flightPrices.businessPrice || flightPrices.economyPrice || 0) : 'N/A'})</span>\n        </div>\n        <div className=\"class-info economy-class\">\n          <div className=\"class-color economy\"></div>\n          <span>Ph·ªï th√¥ng ({flightPrices ? formatPrice(flightPrices.economyPrice || 0) : 'N/A'})</span>\n        </div>\n      </div>\n\n      <div className=\"airplane-container\">\n        <div className=\"airplane\">\n          {/* Cockpit Area */}\n          <div className=\"airplane-header\">\n            <div className=\"cockpit-label\">COCKPIT</div>\n            <div className=\"exit-row\">EXIT</div>\n          </div>\n\n          {/* Main Cabin Layout */}\n          <div className=\"seat-grid\">\n            {seatLayout.layout.map((row, rowIndex) => (\n              <div key={row.row} className=\"seat-row\">\n                <div className=\"row-number\">{row.row}</div>\n\n                <div className=\"seats-container\">\n                  {/* Left seats (A, B, C) */}\n                  <div className=\"left-seats\">\n                    {row.seats.slice(0, 3).map((seat, index) => {\n                      const isWindowSeat = index === 0; // Ch·ªâ gh·∫ø A l√† c·ª≠a s·ªï\n                      return (\n                        <div\n                          key={seat.seatId}\n                          className={`seat ${isSeatSelected(seat.seatId) ? 'selected' : ''} ${seat.status === 'booked' ? 'booked' : 'available'} ${isWindowSeat ? 'window' : 'aisle-seat'}`}\n                          style={{\n                            backgroundColor: getSeatColor(seat),\n                            cursor: seat.status === 'booked' ? 'not-allowed' : 'pointer'\n                          }}\n                          onClick={() => handleSeatClick(seat)}\n                          onMouseEnter={() => handleSeatHover(seat)}\n                          onMouseLeave={handleSeatLeave}\n                          title={`${seat.seatId} - ${seat.seatClass === 'first' ? 'H·∫°ng nh·∫•t' : seat.seatClass === 'business' ? 'Th∆∞∆°ng gia' : 'Ph·ªï th√¥ng'} - ${isWindowSeat ? 'Gh·∫ø c·ª≠a s·ªï' : 'Gh·∫ø l·ªëi ƒëi'} (${formatPrice(getSeatPrice(seat))})`}\n                        >\n                          {seat.seatId}\n                        </div>\n                      );\n                    })}\n                  </div>\n\n                  {/* Center aisle */}\n                  <div className=\"aisle\">\n                    <div className=\"aisle-label\">L·ªëi ƒëi</div>\n                  </div>\n\n                  {/* Right seats (D, E, F) */}\n                  <div className=\"right-seats\">\n                    {row.seats.slice(3, 6).map((seat, index) => {\n                      const isWindowSeat = index === 2; // Ch·ªâ gh·∫ø F l√† c·ª≠a s·ªï (index 2 trong slice 3-6)\n                      return (\n                        <div\n                          key={seat.seatId}\n                          className={`seat ${isSeatSelected(seat.seatId) ? 'selected' : ''} ${seat.status === 'booked' ? 'booked' : 'available'} ${isWindowSeat ? 'window' : 'aisle-seat'}`}\n                          style={{\n                            backgroundColor: getSeatColor(seat),\n                            cursor: seat.status === 'booked' ? 'not-allowed' : 'pointer'\n                          }}\n                          onClick={() => handleSeatClick(seat)}\n                          onMouseEnter={() => handleSeatHover(seat)}\n                          onMouseLeave={handleSeatLeave}\n                          title={`${seat.seatId} - ${seat.seatClass === 'first' ? 'H·∫°ng nh·∫•t' : seat.seatClass === 'business' ? 'Th∆∞∆°ng gia' : 'Ph·ªï th√¥ng'} - ${isWindowSeat ? 'Gh·∫ø c·ª≠a s·ªï' : 'Gh·∫ø l·ªëi ƒëi'} (${formatPrice(getSeatPrice(seat))})`}\n                        >\n                          {seat.seatId}\n                        </div>\n                      );\n                    })}\n                  </div>\n                </div>\n\n                <div className=\"row-number\">{row.row}</div>\n              </div>\n            ))}\n          </div>\n\n          {/* Tail section */}\n          <div className=\"airplane-footer\">\n            <div className=\"exit-row\">EXIT</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Hi·ªÉn th·ªã th√¥ng tin gh·∫ø ƒëang hover */}\n      {hoveredSeat && (\n        <div className=\"seat-hover-info\">\n          <div className=\"seat-hover-card\">\n            <div className=\"seat-hover-title\">\n              <strong>{hoveredSeat.seatId}</strong>\n            </div>\n            <div className=\"seat-hover-details\">\n              <div className=\"seat-hover-class\">\n                H·∫°ng: {hoveredSeat.seatClass === 'first' ? 'H·∫°ng nh·∫•t' : hoveredSeat.seatClass === 'business' ? 'Th∆∞∆°ng gia' : 'Ph·ªï th√¥ng'}\n              </div>\n              <div className=\"seat-hover-position\">\n                V·ªã tr√≠: {(() => {\n                  let currentRow = null;\n                  let seatInRowIndex = null;\n\n                  for (const row of seatLayout.layout) {\n                    const seatIndexInRow = row.seats.findIndex(s => s.seatId === hoveredSeat.seatId);\n                    if (seatIndexInRow !== -1) {\n                      currentRow = row;\n                      seatInRowIndex = seatIndexInRow;\n                      break;\n                    }\n                  }\n\n                  if (currentRow && seatInRowIndex !== null) {\n                    const isWindowSeat = seatInRowIndex === 0 || seatInRowIndex === 5;\n                    return isWindowSeat ? 'Gh·∫ø c·ª≠a s·ªï' : 'Gh·∫ø l·ªëi ƒëi';\n                  }\n\n                  return 'Gh·∫ø l·ªëi ƒëi';\n                })()}\n              </div>\n              <div className=\"seat-hover-price\">\n                Gi√°: {formatPrice(getSeatPrice(hoveredSeat))}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"seat-selection-info\">\n        <p>ƒê√£ ch·ªçn: {selectedSeats.length}/{maxSelections} gh·∫ø</p>\n        {selectedSeats.length > 0 && (\n          <div className=\"selected-seats\">\n            <p><strong>Gh·∫ø ƒë√£ ch·ªçn:</strong></p>\n            <div className=\"selected-seats-list\">\n              {selectedSeats.map(seatId => {\n                const seat = getSeatById(seatId);\n\n                // T√¨m v·ªã tr√≠ gh·∫ø trong h√†ng hi·ªán t·∫°i\n                let seatInRowIndex = null;\n                for (const row of seatLayout.layout) {\n                  const index = row.seats.findIndex(s => s.seatId === seatId);\n                  if (index !== -1) {\n                    seatInRowIndex = index;\n                    break;\n                  }\n                }\n\n                // V·ªõi layout 3+3: ch·ªâ gh·∫ø A (0) v√† F (5) l√† c·ª≠a s·ªï\n                const isWindowSeat = seatInRowIndex !== null &&\n                  (seatInRowIndex === 0 || seatInRowIndex === 5);\n\n                return (\n                  <div key={seatId} className=\"selected-seat-badge\">\n                    <span className=\"seat-id\">{seatId}</span>\n                    <span className=\"seat-position\">{isWindowSeat ? 'ü™ü C·ª≠a s·ªï' : 'üö∂ L·ªëi ƒëi'}</span>\n                    <span className=\"seat-price\">({formatPrice(seat ? getSeatPrice(seat) : 0)})</span>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SeatLayout;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}