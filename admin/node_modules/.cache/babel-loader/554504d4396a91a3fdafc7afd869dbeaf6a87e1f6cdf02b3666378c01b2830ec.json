{"ast":null,"code":"var _jsxFileName = \"D:\\\\Airticket\\\\admin\\\\src\\\\pages\\\\QRScanner.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport jsQR from 'jsqr';\nimport './QRScanner.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst QRScanner = () => {\n  _s();\n  var _ticketInfo$flightId, _ticketInfo$flightId2, _ticketInfo$flightId3;\n  const [userTickets, setUserTickets] = useState([]);\n  const [showUserQR, setShowUserQR] = useState(false);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const fileInputRef = useRef(null);\n  const startScanning = async () => {\n    try {\n      setScanning(true);\n      setError('');\n      setTicketInfo(null);\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          facingMode: 'environment'\n        }\n      });\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n        const scan = () => {\n          if (videoRef.current && canvasRef.current) {\n            const canvas = canvasRef.current;\n            const video = videoRef.current;\n            const context = canvas.getContext('2d');\n            if (video.readyState === video.HAVE_ENOUGH_DATA) {\n              canvas.height = video.videoHeight;\n              canvas.width = video.videoWidth;\n              context.drawImage(video, 0, 0, canvas.width, canvas.height);\n              const imageData = context.getImageData(0, 0, canvas.width, canvas.height);\n              const code = jsQR(imageData.data, imageData.width, imageData.height);\n              if (code) {\n                // Dừng camera\n                stream.getTracks().forEach(track => track.stop());\n\n                // Xử lý dữ liệu QR code\n                handleQRCode(code.data);\n                return;\n              }\n            }\n            if (scanning) {\n              requestAnimationFrame(scan);\n            }\n          }\n        };\n        videoRef.current.onloadedmetadata = () => {\n          requestAnimationFrame(scan);\n        };\n      }\n    } catch (error) {\n      console.error('Lỗi truy cập camera:', error);\n      setError('Không thể truy cập camera. Vui lòng kiểm tra quyền truy cập.');\n      setScanning(false);\n    }\n  };\n  const handleQRCode = async qrData => {\n    try {\n      setError('');\n      const response = await fetch('http://localhost:8080/api/v1/tickets/qr-info', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          qrData\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Không thể đọc thông tin vé');\n      }\n      const data = await response.json();\n      setTicketInfo(data.data);\n    } catch (error) {\n      console.error('Lỗi xử lý QR code:', error);\n      setError(error.message || 'Không thể đọc thông tin từ mã QR');\n    } finally {\n      setScanning(false);\n    }\n  };\n  const handleFileUpload = event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    try {\n      setError('');\n      setTicketInfo(null);\n      const reader = new FileReader();\n      reader.onload = e => {\n        const img = new Image();\n        img.onload = () => {\n          // Tạo canvas để xử lý ảnh\n          const canvas = document.createElement('canvas');\n          const ctx = canvas.getContext('2d');\n          canvas.width = img.width;\n          canvas.height = img.height;\n          ctx.drawImage(img, 0, 0);\n          const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n          const code = jsQR(imageData.data, imageData.width, imageData.height);\n          if (code) {\n            handleQRCode(code.data);\n          } else {\n            setError('Không tìm thấy mã QR trong hình ảnh. Vui lòng thử lại với hình ảnh rõ ràng hơn.');\n          }\n        };\n        img.src = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    } catch (error) {\n      console.error('Lỗi xử lý file:', error);\n      setError('Lỗi xử lý hình ảnh. Vui lòng thử lại.');\n    }\n  };\n  useEffect(() => {\n    loadUserTickets();\n  }, []);\n  const loadUserTickets = async () => {\n    try {\n      const token = localStorage.getItem('adminToken');\n      if (!token) return;\n      const response = await fetch('http://localhost:8080/api/v1/tickets?status=checked-in&limit=5', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        var _data$data;\n        const data = await response.json();\n        setUserTickets(((_data$data = data.data) === null || _data$data === void 0 ? void 0 : _data$data.tickets) || []);\n      }\n    } catch (error) {\n      console.error('Lỗi tải vé:', error);\n    }\n  };\n  const stopScanning = () => {\n    setScanning(false);\n    if (videoRef.current && videoRef.current.srcObject) {\n      videoRef.current.srcObject.getTracks().forEach(track => track.stop());\n    }\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleString('vi-VN', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('vi-VN', {\n      style: 'currency',\n      currency: 'VND'\n    }).format(amount);\n  };\n  const getStatusText = status => {\n    switch (status) {\n      case 'paid':\n        return 'Đã thanh toán';\n      case 'pending':\n        return 'Chờ thanh toán';\n      case 'refunded':\n        return 'Đã hoàn tiền';\n      case 'failed':\n        return 'Thất bại';\n      case 'checked-in':\n        return 'Đã check-in';\n      default:\n        return 'Không xác định';\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'paid':\n        return '#28a745';\n      case 'pending':\n        return '#ffc107';\n      case 'refunded':\n        return '#6c757d';\n      case 'failed':\n        return '#dc3545';\n      case 'checked-in':\n        return '#17a2b8';\n      default:\n        return '#6c757d';\n    }\n  };\n  const formatSeatInfo = ticket => {\n    const seatClasses = ticket.seatClasses || [ticket.ticketClass || ticket.class || 'Economy'];\n    const seatNumbers = ticket.seatNumbers || [ticket.seatNumber || 'N/A'];\n    if (seatClasses.length === 1) {\n      return {\n        class: seatClasses[0],\n        seats: seatNumbers[0]\n      };\n    }\n    return {\n      class: `${seatClasses.length} ghế (${seatClasses.join(', ')})`,\n      seats: seatNumbers.join(', ')\n    };\n  };\n  const renderSeatInfo = ticket => {\n    const seatInfo = formatSeatInfo(ticket);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seat-display\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"seat-class-badge\",\n        children: seatInfo.class\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"seat-numbers\",\n        children: [\"Gh\\u1EBF: \", seatInfo.seats]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"qr-scanner-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"qr-scanner-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDCF1 Qu\\xE9t m\\xE3 QR v\\xE9 m\\xE1y bay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Ki\\u1EC3m tra th\\xF4ng tin v\\xE9 nhanh ch\\xF3ng b\\u1EB1ng c\\xE1ch qu\\xE9t m\\xE3 QR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mode-selection\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `mode-btn ${scanMode === 'camera' ? 'active' : ''}`,\n          onClick: () => setScanMode('camera'),\n          children: \"\\uD83D\\uDCF7 Camera\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `mode-btn ${scanMode === 'file' ? 'active' : ''}`,\n          onClick: () => setScanMode('file'),\n          children: \"\\uD83D\\uDCC1 T\\u1EA3i \\u1EA3nh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"qr-scanner-content\",\n      children: [userTickets.length > 0 && !ticketInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-qr-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83C\\uDFAB M\\xE3 QR c\\u1EE7a b\\u1EA1n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Hi\\u1EC3n th\\u1ECB m\\xE3 QR c\\u1EE7a c\\xE1c v\\xE9 \\u0111\\xE3 check-in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-qr-grid\",\n          children: userTickets.map(ticket => {\n            var _ticket$flightId, _ticket$flightId2;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-qr-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ticket-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ticket-code\",\n                  children: ticket.ticketCode\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `status ${ticket.status}`,\n                  children: getStatusText(ticket.status)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ticket-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: ticket.passengerName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 24\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [(_ticket$flightId = ticket.flightId) === null || _ticket$flightId === void 0 ? void 0 : _ticket$flightId.flightCode, \" - \", (_ticket$flightId2 = ticket.flightId) === null || _ticket$flightId2 === void 0 ? void 0 : _ticket$flightId2.route]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Gh\\u1EBF: \", ticket.seatNumber]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this), ticket.qrCode && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"qr-code-display\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `data:image/svg+xml;base64,${btoa(ticket.qrCode)}`,\n                  alt: \"QR Code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 21\n              }, this)]\n            }, ticket._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, this), !ticketInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scanner-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"camera-container\",\n          children: scanMode === 'camera' ? scanning ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"video\", {\n              ref: videoRef,\n              autoPlay: true,\n              playsInline: true,\n              muted: true,\n              className: \"camera-feed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n              ref: canvasRef,\n              className: \"qr-canvas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"camera-overlay\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"qr-frame\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u0110\\u01B0a m\\xE3 QR v\\xE0o khung h\\xECnh \\u0111\\u1EC3 qu\\xE9t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: stopScanning,\n              className: \"stop-scan-btn\",\n              children: \"\\u23F9\\uFE0F D\\u1EEBng qu\\xE9t\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"camera-placeholder\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"camera-icon\",\n              children: \"\\uD83D\\uDCF7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Nh\\u1EA5n n\\xFAt b\\xEAn d\\u01B0\\u1EDBi \\u0111\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u qu\\xE9t m\\xE3 QR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: startScanning,\n              className: \"start-scan-btn\",\n              children: \"\\uD83D\\uDE80 B\\u1EAFt \\u0111\\u1EA7u qu\\xE9t\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-upload-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-upload-placeholder\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"upload-icon\",\n                children: \"\\uD83D\\uDCC1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Ch\\u1ECDn h\\xECnh \\u1EA3nh ch\\u1EE9a m\\xE3 QR t\\u1EEB m\\xE1y t\\xEDnh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: triggerFileInput,\n                className: \"upload-btn\",\n                children: \"\\uD83D\\uDCC2 Ch\\u1ECDn \\u1EA3nh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                ref: fileInputRef,\n                type: \"file\",\n                accept: \"image/*\",\n                onChange: handleFileUpload,\n                style: {\n                  display: 'none'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"upload-tips\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"\\uD83D\\uDCA1 M\\u1EB9o ch\\u1EE5p \\u1EA3nh m\\xE3 QR:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"\\u0110\\u1EA3m b\\u1EA3o m\\xE3 QR n\\u1EB1m g\\u1ECDn trong khung h\\xECnh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Ch\\u1EE5p \\u1EDF n\\u01A1i c\\xF3 \\u0111\\u1EE7 \\xE1nh s\\xE1ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Gi\\u1EEF \\u0111i\\u1EC7n tho\\u1EA1i \\u1ED5n \\u0111\\u1ECBnh khi ch\\u1EE5p\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Tr\\xE1nh ch\\u1EE5p nghi\\xEAng ho\\u1EB7c m\\u1EDD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message\",\n          children: [\"\\u26A0\\uFE0F \", error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 11\n      }, this), ticketInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ticket-info-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ticket-info-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u2705 Th\\xF4ng tin v\\xE9 m\\xE1y bay\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setTicketInfo(null),\n            className: \"scan-again-btn\",\n            children: \"\\uD83D\\uDD04 Qu\\xE9t l\\u1EA1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ticket-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flight-info-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flight-route\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"route-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: ((_ticketInfo$flightId = ticketInfo.flightId) === null || _ticketInfo$flightId === void 0 ? void 0 : _ticketInfo$flightId.route) || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"flight-code\",\n                  children: ((_ticketInfo$flightId2 = ticketInfo.flightId) === null || _ticketInfo$flightId2 === void 0 ? void 0 : _ticketInfo$flightId2.flightCode) || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"seat-info\",\n                children: renderSeatInfo(ticketInfo)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flight-times\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"time-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"time-label\",\n                  children: \"Kh\\u1EDFi h\\xE0nh:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"time-value\",\n                  children: (_ticketInfo$flightId3 = ticketInfo.flightId) !== null && _ticketInfo$flightId3 !== void 0 && _ticketInfo$flightId3.departureTime ? formatDate(ticketInfo.flightId.departureTime) : 'Chưa xác định'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"info-label\",\n                children: \"M\\xE3 v\\xE9:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"info-value ticket-code\",\n                children: ticketInfo.ticketCode\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"info-label\",\n                children: \"Tr\\u1EA1ng th\\xE1i:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"info-value status-badge\",\n                style: {\n                  backgroundColor: getStatusColor(ticketInfo.status)\n                },\n                children: getStatusText(ticketInfo.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"info-label\",\n                children: \"H\\u1ECD t\\xEAn:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"info-value\",\n                children: ticketInfo.passengerName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"info-label\",\n                children: \"Gi\\xE1 v\\xE9:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"info-value price\",\n                children: formatCurrency(ticketInfo.price)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"verification-info\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"verification-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"verification-label\",\n                children: \"Th\\u1EDDi gian x\\xE1c th\\u1EF1c:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"verification-value\",\n                children: formatDate(ticketInfo.updatedAt)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 233,\n    columnNumber: 5\n  }, this);\n};\n_s(QRScanner, \"0D0y+utHmmHgWIuEvLJI9PEXfR0=\");\n_c = QRScanner;\nexport default QRScanner;\nvar _c;\n$RefreshReg$(_c, \"QRScanner\");","map":{"version":3,"names":["React","useState","useRef","jsQR","jsxDEV","_jsxDEV","Fragment","_Fragment","QRScanner","_s","_ticketInfo$flightId","_ticketInfo$flightId2","_ticketInfo$flightId3","userTickets","setUserTickets","showUserQR","setShowUserQR","videoRef","canvasRef","fileInputRef","startScanning","setScanning","setError","setTicketInfo","stream","navigator","mediaDevices","getUserMedia","video","facingMode","current","srcObject","scan","canvas","context","getContext","readyState","HAVE_ENOUGH_DATA","height","videoHeight","width","videoWidth","drawImage","imageData","getImageData","code","data","getTracks","forEach","track","stop","handleQRCode","scanning","requestAnimationFrame","onloadedmetadata","error","console","qrData","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","Error","message","handleFileUpload","event","file","target","files","reader","FileReader","onload","e","img","Image","document","createElement","ctx","src","result","readAsDataURL","useEffect","loadUserTickets","token","localStorage","getItem","_data$data","tickets","stopScanning","formatDate","dateString","Date","toLocaleString","year","month","day","hour","minute","formatCurrency","amount","Intl","NumberFormat","style","currency","format","getStatusText","status","getStatusColor","formatSeatInfo","ticket","seatClasses","ticketClass","class","seatNumbers","seatNumber","length","seats","join","renderSeatInfo","seatInfo","className","children","fileName","_jsxFileName","lineNumber","columnNumber","scanMode","onClick","setScanMode","ticketInfo","map","_ticket$flightId","_ticket$flightId2","ticketCode","passengerName","flightId","flightCode","route","qrCode","btoa","alt","_id","ref","autoPlay","playsInline","muted","triggerFileInput","type","accept","onChange","display","departureTime","backgroundColor","price","updatedAt","_c","$RefreshReg$"],"sources":["D:/Airticket/admin/src/pages/QRScanner.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport jsQR from 'jsqr';\nimport './QRScanner.css';\n\nconst QRScanner = () => {\n  const [userTickets, setUserTickets] = useState([]);\n  const [showUserQR, setShowUserQR] = useState(false);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const fileInputRef = useRef(null);\n\n  const startScanning = async () => {\n    try {\n      setScanning(true);\n      setError('');\n      setTicketInfo(null);\n\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: { facingMode: 'environment' }\n      });\n\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n\n        const scan = () => {\n          if (videoRef.current && canvasRef.current) {\n            const canvas = canvasRef.current;\n            const video = videoRef.current;\n            const context = canvas.getContext('2d');\n\n            if (video.readyState === video.HAVE_ENOUGH_DATA) {\n              canvas.height = video.videoHeight;\n              canvas.width = video.videoWidth;\n\n              context.drawImage(video, 0, 0, canvas.width, canvas.height);\n\n              const imageData = context.getImageData(0, 0, canvas.width, canvas.height);\n              const code = jsQR(imageData.data, imageData.width, imageData.height);\n\n              if (code) {\n                // Dừng camera\n                stream.getTracks().forEach(track => track.stop());\n\n                // Xử lý dữ liệu QR code\n                handleQRCode(code.data);\n                return;\n              }\n            }\n\n            if (scanning) {\n              requestAnimationFrame(scan);\n            }\n          }\n        };\n\n        videoRef.current.onloadedmetadata = () => {\n          requestAnimationFrame(scan);\n        };\n      }\n    } catch (error) {\n      console.error('Lỗi truy cập camera:', error);\n      setError('Không thể truy cập camera. Vui lòng kiểm tra quyền truy cập.');\n      setScanning(false);\n    }\n  };\n\n  const handleQRCode = async (qrData) => {\n    try {\n      setError('');\n\n      const response = await fetch('http://localhost:8080/api/v1/tickets/qr-info', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ qrData })\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Không thể đọc thông tin vé');\n      }\n\n      const data = await response.json();\n      setTicketInfo(data.data);\n    } catch (error) {\n      console.error('Lỗi xử lý QR code:', error);\n      setError(error.message || 'Không thể đọc thông tin từ mã QR');\n    } finally {\n      setScanning(false);\n    }\n  };\n\n  const handleFileUpload = (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    try {\n      setError('');\n      setTicketInfo(null);\n\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const img = new Image();\n        img.onload = () => {\n          // Tạo canvas để xử lý ảnh\n          const canvas = document.createElement('canvas');\n          const ctx = canvas.getContext('2d');\n\n          canvas.width = img.width;\n          canvas.height = img.height;\n          ctx.drawImage(img, 0, 0);\n\n          const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n          const code = jsQR(imageData.data, imageData.width, imageData.height);\n\n          if (code) {\n            handleQRCode(code.data);\n          } else {\n            setError('Không tìm thấy mã QR trong hình ảnh. Vui lòng thử lại với hình ảnh rõ ràng hơn.');\n          }\n        };\n        img.src = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    } catch (error) {\n      console.error('Lỗi xử lý file:', error);\n      setError('Lỗi xử lý hình ảnh. Vui lòng thử lại.');\n    }\n  };\n\n  useEffect(() => {\n    loadUserTickets();\n  }, []);\n\n  const loadUserTickets = async () => {\n    try {\n      const token = localStorage.getItem('adminToken');\n      if (!token) return;\n\n      const response = await fetch('http://localhost:8080/api/v1/tickets?status=checked-in&limit=5', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setUserTickets(data.data?.tickets || []);\n      }\n    } catch (error) {\n      console.error('Lỗi tải vé:', error);\n    }\n  };\n\n  const stopScanning = () => {\n    setScanning(false);\n    if (videoRef.current && videoRef.current.srcObject) {\n      videoRef.current.srcObject.getTracks().forEach(track => track.stop());\n    }\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleString('vi-VN', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(amount);\n  };\n\n  const getStatusText = (status) => {\n    switch (status) {\n      case 'paid': return 'Đã thanh toán';\n      case 'pending': return 'Chờ thanh toán';\n      case 'refunded': return 'Đã hoàn tiền';\n      case 'failed': return 'Thất bại';\n      case 'checked-in': return 'Đã check-in';\n      default: return 'Không xác định';\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'paid': return '#28a745';\n      case 'pending': return '#ffc107';\n      case 'refunded': return '#6c757d';\n      case 'failed': return '#dc3545';\n      case 'checked-in': return '#17a2b8';\n      default: return '#6c757d';\n    }\n  };\n\n  const formatSeatInfo = (ticket) => {\n    const seatClasses = ticket.seatClasses || [ticket.ticketClass || ticket.class || 'Economy'];\n    const seatNumbers = ticket.seatNumbers || [ticket.seatNumber || 'N/A'];\n\n    if (seatClasses.length === 1) {\n      return {\n        class: seatClasses[0],\n        seats: seatNumbers[0]\n      };\n    }\n\n    return {\n      class: `${seatClasses.length} ghế (${seatClasses.join(', ')})`,\n      seats: seatNumbers.join(', ')\n    };\n  };\n\n  const renderSeatInfo = (ticket) => {\n    const seatInfo = formatSeatInfo(ticket);\n\n    return (\n      <div className=\"seat-display\">\n        <div className=\"seat-class-badge\">\n          {seatInfo.class}\n        </div>\n        <div className=\"seat-numbers\">\n          Ghế: {seatInfo.seats}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"qr-scanner-container\">\n      <div className=\"qr-scanner-header\">\n        <h2>📱 Quét mã QR vé máy bay</h2>\n        <p>Kiểm tra thông tin vé nhanh chóng bằng cách quét mã QR</p>\n\n        {/* Mode Selection */}\n        <div className=\"mode-selection\">\n          <button\n            className={`mode-btn ${scanMode === 'camera' ? 'active' : ''}`}\n            onClick={() => setScanMode('camera')}\n          >\n            📷 Camera\n          </button>\n          <button\n            className={`mode-btn ${scanMode === 'file' ? 'active' : ''}`}\n            onClick={() => setScanMode('file')}\n          >\n            📁 Tải ảnh\n          </button>\n        </div>\n      </div>\n\n      <div className=\"qr-scanner-content\">\n        {/* User QR Code Section */}\n        {userTickets.length > 0 && !ticketInfo && (\n          <div className=\"user-qr-section\">\n            <h3>🎫 Mã QR của bạn</h3>\n            <p>Hiển thị mã QR của các vé đã check-in</p>\n            <div className=\"user-qr-grid\">\n              {userTickets.map((ticket) => (\n                <div key={ticket._id} className=\"user-qr-card\">\n                  <div className=\"ticket-header\">\n                    <span className=\"ticket-code\">{ticket.ticketCode}</span>\n                    <span className={`status ${ticket.status}`}>\n                      {getStatusText(ticket.status)}\n                    </span>\n                  </div>\n                  <div className=\"ticket-info\">\n                    <p><strong>{ticket.passengerName}</strong></p>\n                    <p>{ticket.flightId?.flightCode} - {ticket.flightId?.route}</p>\n                    <p>Ghế: {ticket.seatNumber}</p>\n                  </div>\n                  {ticket.qrCode && (\n                    <div className=\"qr-code-display\">\n                      <img\n                        src={`data:image/svg+xml;base64,${btoa(ticket.qrCode)}`}\n                        alt=\"QR Code\"\n                      />\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {!ticketInfo && (\n          <div className=\"scanner-section\">\n            <div className=\"camera-container\">\n              {scanMode === 'camera' ? (\n                scanning ? (\n                  <>\n                    <video\n                      ref={videoRef}\n                      autoPlay\n                      playsInline\n                      muted\n                      className=\"camera-feed\"\n                    />\n                    <canvas\n                      ref={canvasRef}\n                      className=\"qr-canvas\"\n                    />\n                    <div className=\"camera-overlay\">\n                      <div className=\"qr-frame\"></div>\n                      <p>Đưa mã QR vào khung hình để quét</p>\n                    </div>\n                    <button onClick={stopScanning} className=\"stop-scan-btn\">\n                      ⏹️ Dừng quét\n                    </button>\n                  </>\n                ) : (\n                  <div className=\"camera-placeholder\">\n                    <div className=\"camera-icon\">📷</div>\n                    <p>Nhấn nút bên dưới để bắt đầu quét mã QR</p>\n                    <button onClick={startScanning} className=\"start-scan-btn\">\n                      🚀 Bắt đầu quét\n                    </button>\n                  </div>\n                )\n              ) : (\n                <div className=\"file-upload-section\">\n                  <div className=\"file-upload-placeholder\">\n                    <div className=\"upload-icon\">📁</div>\n                    <p>Chọn hình ảnh chứa mã QR từ máy tính</p>\n                    <button onClick={triggerFileInput} className=\"upload-btn\">\n                      📂 Chọn ảnh\n                    </button>\n                    <input\n                      ref={fileInputRef}\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={handleFileUpload}\n                      style={{ display: 'none' }}\n                    />\n                  </div>\n\n                  <div className=\"upload-tips\">\n                    <h4>💡 Mẹo chụp ảnh mã QR:</h4>\n                    <ul>\n                      <li>Đảm bảo mã QR nằm gọn trong khung hình</li>\n                      <li>Chụp ở nơi có đủ ánh sáng</li>\n                      <li>Giữ điện thoại ổn định khi chụp</li>\n                      <li>Tránh chụp nghiêng hoặc mờ</li>\n                    </ul>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {error && (\n              <div className=\"error-message\">\n                ⚠️ {error}\n              </div>\n            )}\n          </div>\n        )}\n\n        {ticketInfo && (\n          <div className=\"ticket-info-section\">\n            <div className=\"ticket-info-header\">\n              <h3>✅ Thông tin vé máy bay</h3>\n              <button onClick={() => setTicketInfo(null)} className=\"scan-again-btn\">\n                🔄 Quét lại\n              </button>\n            </div>\n\n            <div className=\"ticket-details\">\n\n              <div className=\"flight-info-card\">\n                <div className=\"flight-route\">\n                  <div className=\"route-info\">\n                    <h4>{ticketInfo.flightId?.route || 'N/A'}</h4>\n                    <p className=\"flight-code\">{ticketInfo.flightId?.flightCode || 'N/A'}</p>\n                  </div>\n                  <div className=\"seat-info\">\n                    {renderSeatInfo(ticketInfo)}\n                  </div>\n                </div>\n\n                <div className=\"flight-times\">\n                  <div className=\"time-info\">\n                    <span className=\"time-label\">Khởi hành:</span>\n                    <span className=\"time-value\">\n                      {ticketInfo.flightId?.departureTime ?\n                        formatDate(ticketInfo.flightId.departureTime) : 'Chưa xác định'}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"info-grid\">\n                <div className=\"info-item\">\n                  <span className=\"info-label\">Mã vé:</span>\n                  <span className=\"info-value ticket-code\">{ticketInfo.ticketCode}</span>\n                </div>\n\n                <div className=\"info-item\">\n                  <span className=\"info-label\">Trạng thái:</span>\n                  <span\n                    className=\"info-value status-badge\"\n                    style={{ backgroundColor: getStatusColor(ticketInfo.status) }}\n                  >\n                    {getStatusText(ticketInfo.status)}\n                  </span>\n                </div>\n\n                <div className=\"info-item\">\n                  <span className=\"info-label\">Họ tên:</span>\n                  <span className=\"info-value\">{ticketInfo.passengerName}</span>\n                </div>\n\n                <div className=\"info-item\">\n                  <span className=\"info-label\">Giá vé:</span>\n                  <span className=\"info-value price\">{formatCurrency(ticketInfo.price)}</span>\n                </div>\n              </div>\n\n              <div className=\"verification-info\">\n                <div className=\"verification-item\">\n                  <span className=\"verification-label\">Thời gian xác thực:</span>\n                  <span className=\"verification-value\">\n                    {formatDate(ticketInfo.updatedAt)}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default QRScanner;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}